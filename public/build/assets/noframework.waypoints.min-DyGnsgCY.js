/*!
Waypoints - 4.0.1
Copyright Â© 2011-2016 Caleb Troughton
Licensed under the MIT license.
https://github.com/imakewebthings/waypoints/blob/master/licenses.txt
*/(function(){function o(h){if(!h)throw new Error("No options passed to Waypoint constructor");if(!h.element)throw new Error("No element option passed to Waypoint constructor");if(!h.handler)throw new Error("No handler option passed to Waypoint constructor");this.key="waypoint-"+a,this.options=o.Adapter.extend({},o.defaults,h),this.element=this.options.element,this.adapter=new o.Adapter(this.element),this.callback=h.handler,this.axis=this.options.horizontal?"horizontal":"vertical",this.enabled=this.options.enabled,this.triggerPoint=null,this.group=o.Group.findOrCreate({name:this.options.group,axis:this.axis}),this.context=o.Context.findOrCreateByElement(this.options.context),o.offsetAliases[this.options.offset]&&(this.options.offset=o.offsetAliases[this.options.offset]),this.group.add(this),this.context.add(this),r[this.key]=this,a+=1}var a=0,r={};o.prototype.queueTrigger=function(h){this.group.queueTrigger(this,h)},o.prototype.trigger=function(h){this.enabled&&this.callback&&this.callback.apply(this,h)},o.prototype.destroy=function(){this.context.remove(this),this.group.remove(this),delete r[this.key]},o.prototype.disable=function(){return this.enabled=!1,this},o.prototype.enable=function(){return this.context.refresh(),this.enabled=!0,this},o.prototype.next=function(){return this.group.next(this)},o.prototype.previous=function(){return this.group.previous(this)},o.invokeAll=function(h){var e=[];for(var i in r)e.push(r[i]);for(var t=0,n=e.length;n>t;t++)e[t][h]()},o.destroyAll=function(){o.invokeAll("destroy")},o.disableAll=function(){o.invokeAll("disable")},o.enableAll=function(){o.Context.refreshAll();for(var h in r)r[h].enabled=!0;return this},o.refreshAll=function(){o.Context.refreshAll()},o.viewportHeight=function(){return window.innerHeight||document.documentElement.clientHeight},o.viewportWidth=function(){return document.documentElement.clientWidth},o.adapters=[],o.defaults={context:window,continuous:!0,enabled:!0,group:"default",horizontal:!1,offset:0},o.offsetAliases={"bottom-in-view":function(){return this.context.innerHeight()-this.adapter.outerHeight()},"right-in-view":function(){return this.context.innerWidth()-this.adapter.outerWidth()}},window.Waypoint=o})(),function(){function o(t){window.setTimeout(t,1e3/60)}function a(t){this.element=t,this.Adapter=e.Adapter,this.adapter=new this.Adapter(t),this.key="waypoint-context-"+r,this.didScroll=!1,this.didResize=!1,this.oldScroll={x:this.adapter.scrollLeft(),y:this.adapter.scrollTop()},this.waypoints={vertical:{},horizontal:{}},t.waypointContextKey=this.key,h[t.waypointContextKey]=this,r+=1,e.windowContext||(e.windowContext=!0,e.windowContext=new a(window)),this.createThrottledScrollHandler(),this.createThrottledResizeHandler()}var r=0,h={},e=window.Waypoint,i=window.onload;a.prototype.add=function(t){var n=t.options.horizontal?"horizontal":"vertical";this.waypoints[n][t.key]=t,this.refresh()},a.prototype.checkEmpty=function(){var t=this.Adapter.isEmptyObject(this.waypoints.horizontal),n=this.Adapter.isEmptyObject(this.waypoints.vertical),l=this.element==this.element.window;t&&n&&!l&&(this.adapter.off(".waypoints"),delete h[this.key])},a.prototype.createThrottledResizeHandler=function(){function t(){n.handleResize(),n.didResize=!1}var n=this;this.adapter.on("resize.waypoints",function(){n.didResize||(n.didResize=!0,e.requestAnimationFrame(t))})},a.prototype.createThrottledScrollHandler=function(){function t(){n.handleScroll(),n.didScroll=!1}var n=this;this.adapter.on("scroll.waypoints",function(){(!n.didScroll||e.isTouch)&&(n.didScroll=!0,e.requestAnimationFrame(t))})},a.prototype.handleResize=function(){e.Context.refreshAll()},a.prototype.handleScroll=function(){var t={},n={horizontal:{newScroll:this.adapter.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.adapter.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}};for(var l in n){var s=n[l],u=s.newScroll>s.oldScroll,d=u?s.forward:s.backward;for(var v in this.waypoints[l]){var c=this.waypoints[l][v];if(c.triggerPoint!==null){var f=s.oldScroll<c.triggerPoint,w=s.newScroll>=c.triggerPoint,g=f&&w,m=!f&&!w;(g||m)&&(c.queueTrigger(d),t[c.group.id]=c.group)}}}for(var p in t)t[p].flushTriggers();this.oldScroll={x:n.horizontal.newScroll,y:n.vertical.newScroll}},a.prototype.innerHeight=function(){return this.element==this.element.window?e.viewportHeight():this.adapter.innerHeight()},a.prototype.remove=function(t){delete this.waypoints[t.axis][t.key],this.checkEmpty()},a.prototype.innerWidth=function(){return this.element==this.element.window?e.viewportWidth():this.adapter.innerWidth()},a.prototype.destroy=function(){var t=[];for(var n in this.waypoints)for(var l in this.waypoints[n])t.push(this.waypoints[n][l]);for(var s=0,u=t.length;u>s;s++)t[s].destroy()},a.prototype.refresh=function(){var t,n=this.element==this.element.window,l=n?void 0:this.adapter.offset(),s={};this.handleScroll(),t={horizontal:{contextOffset:n?0:l.left,contextScroll:n?0:this.oldScroll.x,contextDimension:this.innerWidth(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:n?0:l.top,contextScroll:n?0:this.oldScroll.y,contextDimension:this.innerHeight(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}};for(var u in t){var d=t[u];for(var v in this.waypoints[u]){var c,f,w,g,m,p=this.waypoints[u][v],y=p.options.offset,A=p.triggerPoint,S=0,x=A==null;p.element!==p.element.window&&(S=p.adapter.offset()[d.offsetProp]),typeof y=="function"?y=y.apply(p):typeof y=="string"&&(y=parseFloat(y),p.options.offset.indexOf("%")>-1&&(y=Math.ceil(d.contextDimension*y/100))),c=d.contextScroll-d.contextOffset,p.triggerPoint=Math.floor(S+c-y),f=A<d.oldScroll,w=p.triggerPoint>=d.oldScroll,g=f&&w,m=!f&&!w,!x&&g?(p.queueTrigger(d.backward),s[p.group.id]=p.group):(!x&&m||x&&d.oldScroll>=p.triggerPoint)&&(p.queueTrigger(d.forward),s[p.group.id]=p.group)}}return e.requestAnimationFrame(function(){for(var b in s)s[b].flushTriggers()}),this},a.findOrCreateByElement=function(t){return a.findByElement(t)||new a(t)},a.refreshAll=function(){for(var t in h)h[t].refresh()},a.findByElement=function(t){return h[t.waypointContextKey]},window.onload=function(){i&&i(),a.refreshAll()},e.requestAnimationFrame=function(t){var n=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||o;n.call(window,t)},e.Context=a}(),function(){function o(i,t){return i.triggerPoint-t.triggerPoint}function a(i,t){return t.triggerPoint-i.triggerPoint}function r(i){this.name=i.name,this.axis=i.axis,this.id=this.name+"-"+this.axis,this.waypoints=[],this.clearTriggerQueues(),h[this.axis][this.name]=this}var h={vertical:{},horizontal:{}},e=window.Waypoint;r.prototype.add=function(i){this.waypoints.push(i)},r.prototype.clearTriggerQueues=function(){this.triggerQueues={up:[],down:[],left:[],right:[]}},r.prototype.flushTriggers=function(){for(var i in this.triggerQueues){var t=this.triggerQueues[i],n=i==="up"||i==="left";t.sort(n?a:o);for(var l=0,s=t.length;s>l;l+=1){var u=t[l];(u.options.continuous||l===t.length-1)&&u.trigger([i])}}this.clearTriggerQueues()},r.prototype.next=function(i){this.waypoints.sort(o);var t=e.Adapter.inArray(i,this.waypoints),n=t===this.waypoints.length-1;return n?null:this.waypoints[t+1]},r.prototype.previous=function(i){this.waypoints.sort(o);var t=e.Adapter.inArray(i,this.waypoints);return t?this.waypoints[t-1]:null},r.prototype.queueTrigger=function(i,t){this.triggerQueues[t].push(i)},r.prototype.remove=function(i){var t=e.Adapter.inArray(i,this.waypoints);t>-1&&this.waypoints.splice(t,1)},r.prototype.first=function(){return this.waypoints[0]},r.prototype.last=function(){return this.waypoints[this.waypoints.length-1]},r.findOrCreate=function(i){return h[i.axis][i.name]||new r(i)},e.Group=r}(),function(){function o(e){return e===e.window}function a(e){return o(e)?e:e.defaultView}function r(e){this.element=e,this.handlers={}}var h=window.Waypoint;r.prototype.innerHeight=function(){var e=o(this.element);return e?this.element.innerHeight:this.element.clientHeight},r.prototype.innerWidth=function(){var e=o(this.element);return e?this.element.innerWidth:this.element.clientWidth},r.prototype.off=function(e,i){function t(c,f,w){for(var g=0,m=f.length-1;m>g;g++){var p=f[g];w&&w!==p||c.removeEventListener(p)}}var n=e.split("."),l=n[0],s=n[1],u=this.element;if(s&&this.handlers[s]&&l)t(u,this.handlers[s][l],i),this.handlers[s][l]=[];else if(l)for(var d in this.handlers)t(u,this.handlers[d][l]||[],i),this.handlers[d][l]=[];else if(s&&this.handlers[s]){for(var v in this.handlers[s])t(u,this.handlers[s][v],i);this.handlers[s]={}}},r.prototype.offset=function(){if(!this.element.ownerDocument)return null;var e=this.element.ownerDocument.documentElement,i=a(this.element.ownerDocument),t={top:0,left:0};return this.element.getBoundingClientRect&&(t=this.element.getBoundingClientRect()),{top:t.top+i.pageYOffset-e.clientTop,left:t.left+i.pageXOffset-e.clientLeft}},r.prototype.on=function(e,i){var t=e.split("."),n=t[0],l=t[1]||"__default",s=this.handlers[l]=this.handlers[l]||{},u=s[n]=s[n]||[];u.push(i),this.element.addEventListener(n,i)},r.prototype.outerHeight=function(e){var i,t=this.innerHeight();return e&&!o(this.element)&&(i=window.getComputedStyle(this.element),t+=parseInt(i.marginTop,10),t+=parseInt(i.marginBottom,10)),t},r.prototype.outerWidth=function(e){var i,t=this.innerWidth();return e&&!o(this.element)&&(i=window.getComputedStyle(this.element),t+=parseInt(i.marginLeft,10),t+=parseInt(i.marginRight,10)),t},r.prototype.scrollLeft=function(){var e=a(this.element);return e?e.pageXOffset:this.element.scrollLeft},r.prototype.scrollTop=function(){var e=a(this.element);return e?e.pageYOffset:this.element.scrollTop},r.extend=function(){function e(l,s){if(typeof l=="object"&&typeof s=="object")for(var u in s)s.hasOwnProperty(u)&&(l[u]=s[u]);return l}for(var i=Array.prototype.slice.call(arguments),t=1,n=i.length;n>t;t++)e(i[0],i[t]);return i[0]},r.inArray=function(e,i,t){return i==null?-1:i.indexOf(e,t)},r.isEmptyObject=function(e){for(var i in e)return!1;return!0},h.adapters.push({name:"noframework",Adapter:r}),h.Adapter=r}();
